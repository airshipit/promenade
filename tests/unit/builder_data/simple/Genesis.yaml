---
schema: promenade/Genesis/v1
metadata:
  schema: metadata/Document/v1
  name: genesis
  layeringDefinition:
    abstract: false
    layer: site
  storagePolicy: cleartext
data:
  hostname: n0
  ip: 192.168.77.10
  apiserver:
    command_prefix:
      - /apiserver
      - --authorization-mode=Node,RBAC
      - --admission-control=NamespaceLifecycle,LimitRanger,ServiceAccount,PersistentVolumeLabel,DefaultStorageClass,ResourceQuota,DefaultTolerationSeconds
      - --service-cluster-ip-range=10.96.0.0/16
      - --endpoint-reconciler-type=lease
  armada:
    target_manifest: cluster-bootstrap
  labels:
    dynamic:
      - calico-etcd=enabled
      - coredns=enabled
      - kubernetes-apiserver=enabled
      - kubernetes-controller-manager=enabled
      - kubernetes-etcd=enabled
      - kubernetes-scheduler=enabled
      - promenade-genesis=enabled
      - ucp-control-plane=enabled
  images:
    armada: quay.io/airshipit/armada:master-ubuntu_xenial
    helm:
      tiller: gcr.io/kubernetes-helm/tiller:v2.14.0
    kubernetes:
      apiserver: gcr.io/google_containers/hyperkube-amd64:v1.11.6
      controller-manager: gcr.io/google_containers/hyperkube-amd64:v1.11.6
      etcd: quay.io/coreos/etcd:v3.2.18
      scheduler: gcr.io/google_containers/hyperkube-amd64:v1.11.6
  files:
    - path: /var/lib/anchor/calico-etcd-bootstrap
      content: "# placeholder for triggering calico etcd bootstrapping"
      mode: 0644
...
